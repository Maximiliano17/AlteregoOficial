<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alterego Oficial</title>
    <link rel="stylesheet" href="estilosgenerales.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Orbitron:wght@400;900&family=Playfair+Display:ital,wght@1,500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
</head>

<body>
    <div class="containerGeneral">
        <section class="navContainer">
            <h5 class="titulo">ALTEREGO OFICIAL</h5>
            <nav class="nav">
                <a class="item">Personalizados</a>
                <a class="itemGeneral">Catalogo</a>
                <a class="itemGeneral">Mayorista</a>
            </nav>
            <div class="homeCotainer">
                <h1 class="animate__animated animate__fadeInTopLeft">Alterego</h1>
                <img src="assets/modeloPrincipal.png" title="modelo" class="animate__animated animate__slideInUp" />
                <h1 class="animate__animated animate__fadeInTopRight">Oficial</h1>
            </div>
            <article class="itemPrincipal animate__animated animate__fadeInBottomRight">
                <img src="assets/remeraPrincipal2.png" alt="Remera" title="Remera Alterego" />
                <a href="vistas/modelo.html" class="btnModelo">
                    Ver Modelo
                    <img src="assets/arrow.png" alt="Arrow" title="Arrow" />
                </a>
            </article>
            <article class="textoItem animate__animated animate__fadeInBottomLeft">
                <p>
                    <strong>Alter Ego</strong> es una marca de <strong>ropa personalizada</strong> en <strong>Buenos
                        Aires</strong>.
                    Creamos prendas y productos <em>a medida</em> con <strong>estampado DTF</strong>.
                </p>
            </article>
            <article class="contador">
                <p id="countdown"> üéÑ FIN DE OFERTAS üéÖüèª --:--:--</p>
            </article>
        </section>

        <section class="iaGeneratorSection">
            <div class="iaMainGrid">
                <div class="iaCard iaInputs animate__animated animate__fadeInLeft">
                    <h2 class="iaTitle">GENERAR ESTAMPADO</h2>
                    <div class="uploadBox" id="dropZone">
                        <input type="file" id="fileInput" hidden accept="image/*">
                        <div class="uploadContent" onclick="document.getElementById('fileInput').click()">
                            <img src="assets/subir.png" id="previewIcon" style="font-size: 3rem; width: 100px; object-fit: cover;" />
                            <p id="uploadText">SUBE TU IMAGEN</p>
                        </div>
                    </div>

                    <div class="inputField">
                        <label>TEXTO PERSONALIZADO</label>
                        <textarea id="promptIA"
                            placeholder="Escribe el texto que quieres ver en la remera..."></textarea>
                    </div>

                    <div class="inputField">
                        <label>POSICI√ìN DEL TEXTO</label>
                        <select id="posicionTexto">
                            <option value="abajo">Debajo de la imagen</option>
                            <option value="arriba">Arriba de la imagen</option>
                            <option value="logo-izq">Logo Izquierda (Pecho)</option>
                            <option value="logo-der">Logo Derecha (Pecho)</option>
                            <option value="oculto">Sin texto</option>
                        </select>
                    </div>

                    <div class="inputField">
                        <label>COLOR DE PRENDA</label>
                        <select id="colorRemera">
                            <option value="negro">Negro</option>
                            <option value="blanco">Blanco</option>
                            <option value="rojo">Rojo</option>
                            <option value="azul">Azul Marino</option>
                            <option value="celeste">Celeste</option>
                            <option value="beige">Beige</option>
                        </select>
                    </div>

                    <div class="inputField">
                        <label>UBICACI√ìN</label>
                        <select id="ubicacion">
                            <option value="FRENTE">FRENTE (Pecho)</option>
                            <option value="ESPALDA">ESPALDA (Full)</option>
                            <option value="LOGO_IZQ">LOGO IZQUIERDA</option>
                            <option value="LOGO_DER">LOGO DERECHA</option>
                        </select>
                    </div>

                    <button class="btnPrincipalIA" onclick="generarDise√±o()">
                        VER RESULTADO EN REMERA <span>‚Üí</span>
                    </button>
                </div>

                <div class="iaVisuals">
                    <div class="mockupContainer" id="mockupContainer">
                        <img src="assets/remeraFrente.jpg" id="remeraBase" class="remeraBaseImg">

                        <div id="contEstampado" class="areaEstampado">
                            <img id="estampadoIA" src="" class="hidden">
                        </div>

                        <div id="contTexto" class="areaEstampado">
                            <div id="textoEnRemera" class="textoSuperpuesto"></div>
                        </div>

                        <div id="loaderGenerando" class="loader-overlay hidden">
                            <div class="spinner"></div>
                            <p>PROCESANDO...</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <script>
        function generarDise√±o() {
            const file = document.getElementById('fileInput').files[0];
            const promptTexto = document.getElementById('promptIA').value;
            const lado = document.getElementById('ubicacion').value;
            const posicionT = document.getElementById('posicionTexto').value;

            const remeraBase = document.getElementById('remeraBase');
            const estampadoImg = document.getElementById('estampadoIA');
            const loader = document.getElementById('loaderGenerando');

            const contEstampado = document.getElementById('contEstampado');
            const contTexto = document.getElementById('contTexto');
            const textoRemera = document.getElementById('textoEnRemera');

            if (!file) {
                alert("Primero carga una imagen");
                return;
            }

            loader.classList.remove('hidden');

            remeraBase.src = (lado === "ESPALDA") ? "assets/remeraEspalda.jpg" : "assets/remeraFrente.jpg";

            const clasePosImagen = "pos-" + lado.toLowerCase().replace('_', '-');
            contEstampado.className = "areaEstampado " + clasePosImagen;


            contTexto.className = "areaEstampado";
            textoRemera.className = "textoSuperpuesto";

            if (posicionT === "arriba" || posicionT === "abajo") {

                contEstampado.appendChild(textoRemera);
                textoRemera.classList.add(`texto-${posicionT}`);
            } else if (posicionT !== "oculto") {
                contTexto.appendChild(textoRemera);
                contTexto.classList.add(`pos-${posicionT}`);
            }

            const reader = new FileReader();
            reader.onload = function (e) {
                setTimeout(() => {
                    estampadoImg.src = e.target.result;
                    estampadoImg.classList.remove('hidden');
                    textoRemera.innerText = (posicionT === "oculto") ? "" : promptTexto;
                    loader.classList.add('hidden');
                }, 600);
            };
            reader.readAsDataURL(file);
        }
        document.getElementById('fileInput').onchange = function (e) {
            if (e.target.files[0]) {
                document.getElementById('uploadText').innerHTML = "IMAGEN LISTA ‚úÖ";
            }
        };
    </script>
</body>

</html>